# Event Seat Booking System

A full-stack seat booking system with backend built in **FastAPI** and frontend in **React**. This project demonstrates seat management with concurrency handling, lock timeouts, and booking functionality. Designed for demonstrating backend expertise in Python and REST APIs.

## Features Completed

### Backend (FastAPI)
- **Seat Management:** Initialize 30 seats with unique IDs.
- **Lock & Booking System:**
  - Lock a seat for a specific user.
  - Book a seat only if the user holds the lock.
  - Automatic lock expiration after 1 minute.
- **Concurrency Handling:** Supports multiple users trying to lock the same seat (race condition handled via database transactions and `with_for_update()`).
- **CORS Support:** React frontend can communicate with FastAPI backend seamlessly.
- **Reset & Cleanup:** Reset all seats; expired locks are automatically cleared on fetch.
- **User-Specific Locks:** Only the user who locked a seat can book it; others see the seat as unavailable.
- **Auto-Refreshing Frontend:** React app fetches updated seat status every few seconds for live updates.

### Frontend (React)
- Display 30 seats as a grid.
- Color-coded seats: ðŸŸ© Available, ðŸŸ¨ Locked, ðŸŸ¥ Booked.
- Clickable logic:
  - First click â†’ lock seat (yellow).
  - Second click by same user â†’ book seat (red).
  - Other users see locked seats as unclickable.
- Supports multiple users via query param (`?user=1`, `?user=2`).
- Responsive and interactive UI without page reloads.

## Tech Stack
- **Backend:** FastAPI, SQLAlchemy, SQLite/PostgreSQL (configurable)
- **Frontend:** React, useState, useEffect
- **Concurrency:** Database-level row locking for race conditions
- **APIs:** RESTful endpoints (`/seats`, `/seats/{id}/lock`, `/seats/{id}/book`)

## How to Run

### Backend
```bash
cd backend
python -m uvicorn main:app --reload
